.main_contents
  .management__main-contents
    .management__main-contents__tops
      .management__main-contents__top
        .management__main-contents__top-title
          %h1 一日の目安 エネルギー量
        .management__main-contents__top-data
          - if current_user.activity == 1 && current_user.gender == 1
            = (14.1 * current_user.weight + 620 * 1.5).round.to_s + " kcal"
          - elsif current_user.activity == 1 && current_user.gender == 2
            = (10.8 * current_user.weight + 620 * 1.5).round.to_s + " kcal"
          - elsif current_user.activity == 2 && current_user.gender == 1
            = (14.1 * current_user.weight + 620 * 1.75).round.to_s + " kcal"
          - elsif current_user.activity == 2 && current_user.gender == 2
            = (10.8 * current_user.weight + 620 * 1.75).round.to_s + " kcal"
          - elsif current_user.activity == 3 && current_user.gender == 1
            = (14.1 * current_user.weight + 620 * 2.0).round.to_s + " kcal"
          - elsif current_user.activity == 3 && current_user.gender == 2
            = (10.8 * current_user.weight + 620 * 2.0).round.to_s + " kcal"
          - else
            計算できません
      .management__main-contents__top
        .management__main-contents__top-title
          %h1 一日の目安 糖質
        .management__main-contents__top-data
          - if current_user.activity == 1 && current_user.gender == 1
            = ((14.1 * current_user.weight + 620 * 1.5) / 4 * 0.5).round.to_s + " g" + " 〜 " + ((14.1 * current_user.weight + 620 * 1.5) / 4 * 0.65).round.to_s + " g"
          - elsif current_user.activity == 1 && current_user.gender == 2
            = ((10.8 * current_user.weight + 620 * 1.5) / 4 * 0.5).round.to_s + " g" + " 〜 " + ((10.8 * current_user.weight + 620 * 1.5) / 4 * 0.65).round.to_s + " g"
          - elsif current_user.activity == 2 && current_user.gender == 1
            = ((14.1 * current_user.weight + 620 * 1.75) / 4 * 0.5).round.to_s + " g" + " 〜 " + ((14.1 * current_user.weight + 620 * 1.75) / 4 * 0.65).round.to_s + " g"
          - elsif current_user.activity == 2 && current_user.gender == 2
            = ((10.8 * current_user.weight + 620 * 1.75) / 4 * 0.5).round.to_s + " g" + " 〜 " + ((10.8 * current_user.weight + 620 * 1.75) / 4 * 0.65).round.to_s + " g"
          - elsif current_user.activity == 3 && current_user.gender == 1
            = ((14.1 * current_user.weight + 620 * 2.0) / 4 * 0.5).round.to_s + " g" + " 〜 " + ((14.1 * current_user.weight + 620 * 2.0) / 4 * 0.65).round.to_s + " g"
          - elsif current_user.activity == 3 && current_user.gender == 2
            = ((10.8 * current_user.weight + 620 * 2.0) / 4 * 0.5).round.to_s + " g" + " 〜 " + ((10.8 * current_user.weight + 620 * 2.0) / 4 * 0.65).round.to_s + " g"
          - else
            計算できません
      .management__main-contents__top
        .management__main-contents__top-title
          %h1 一日の目安 タンパク質
        .management__main-contents__top-data
          - if current_user.activity == 1 && current_user.gender == 1
            = ((14.1 * current_user.weight + 620 * 1.5) / 4 * 0.13).round.to_s + " g" + " 〜 " + ((14.1 * current_user.weight + 620 * 1.5) / 4 * 0.2).round.to_s + " g"
          - elsif current_user.activity == 1 && current_user.gender == 2
            = ((10.8 * current_user.weight + 620 * 1.5) / 4 * 0.13).round.to_s + " g" + " 〜 " + ((10.8 * current_user.weight + 620 * 1.5) / 4 * 0.2).round.to_s + " g"
          - elsif current_user.activity == 2 && current_user.gender == 1
            = ((14.1 * current_user.weight + 620 * 1.75) / 4 * 0.13).round.to_s + " g" + " 〜 " + ((14.1 * current_user.weight + 620 * 1.75) / 4 * 0.2).round.to_s + " g"
          - elsif current_user.activity == 2 && current_user.gender == 2
            = ((10.8 * current_user.weight + 620 * 1.75) / 4 * 0.13).round.to_s + " g" + " 〜 " + ((10.8 * current_user.weight + 620 * 1.75) / 4 * 0.2).round.to_s + " g"
          - elsif current_user.activity == 3 && current_user.gender == 1
            = ((14.1 * current_user.weight + 620 * 2.0) / 4 * 0.13).round.to_s + " g" + " 〜 " + ((14.1 * current_user.weight + 620 * 2.0) / 4 * 0.2).round.to_s + " g"
          - elsif current_user.activity == 3 && current_user.gender == 2
            = ((10.8 * current_user.weight + 620 * 2.0) / 4 * 0.13).round.to_s + " g" + " 〜 " + ((10.8 * current_user.weight + 620 * 2.0) / 4 * 0.2).round.to_s + " g"
          - else
            計算できません
      .management__main-contents__top
        .management__main-contents__top-title
          %h1 一日の目安 脂質
        .management__main-contents__top-data
          - if current_user.activity == 1 && current_user.gender == 1
            = ((14.1 * current_user.weight + 620 * 1.5) / 9 * 0.2).round.to_s + " g" + " 〜 " + ((14.1 * current_user.weight + 620 * 1.5) / 9 * 0.3).round.to_s + " g"
          - elsif current_user.activity == 1 && current_user.gender == 2
            = ((10.8 * current_user.weight + 620 * 1.5) / 9 * 0.2).round.to_s + " g" + " 〜 " + ((10.8 * current_user.weight + 620 * 1.5) / 9 * 0.3).round.to_s + " g"
          - elsif current_user.activity == 2 && current_user.gender == 1
            = ((14.1 * current_user.weight + 620 * 1.75) / 9 * 0.2).round.to_s + " g" + " 〜 " + ((14.1 * current_user.weight + 620 * 1.75) / 9 * 0.3).round.to_s + " g"
          - elsif current_user.activity == 2 && current_user.gender == 2
            = ((10.8 * current_user.weight + 620 * 1.75) / 9 * 0.2).round.to_s + " g" + " 〜 " + ((10.8 * current_user.weight + 620 * 1.75) / 9 * 0.3).round.to_s + " g"
          - elsif current_user.activity == 3 && current_user.gender == 1
            = ((14.1 * current_user.weight + 620 * 2.0) / 9 * 0.2).round.to_s + " g" + " 〜 " + ((14.1 * current_user.weight + 620 * 2.0) / 9 * 0.3).round.to_s + " g"
          - elsif current_user.activity == 3 && current_user.gender == 2
            = ((10.8 * current_user.weight + 620 * 2.0) / 9 * 0.2).round.to_s + " g" + " 〜 " + ((10.8 * current_user.weight + 620 * 2.0) / 9 * 0.3).round.to_s + " g"
          - else
            計算できません
      .management__main-contents__top
        .management__main-contents__top-title
          %h1 一日の目安 食物繊維
        .management__main-contents__top-data
          %p 20 g 以上
      .management__main-contents__top
        .management__main-contents__top-title
          %h1 一日の目安 食塩相当量
        .management__main-contents__top-data
          %p 8 g 未満
      .management__main-contents__top
        .management__main-contents__top-title
          %h1 適正体重
        .management__main-contents__top-data
          = (current_user.height.to_f * current_user.height.to_f / 10000 *22).round(1).to_s + " kg"
    .management__main-contents__list
      %h1 管理表
      = link_to '新規登録', new_management_path, class: "new_register"
      %br
      %table{ border: "1"}
        %thead
          %tr
            %th 表題
            %th 日付
            %th 食べた物
            %th カロリー
            %th 糖質
            %th タンパク質
            %th 脂質
            %th 食塩相当量
            %th 食物繊維
            %th{colspan: "2"}

        %tbody
          - @managements.each do |management|
            %tr
              %td= management.title
              %td= management.day
              - management.foods.each do |food|
                %td= food.name
                %td= food.calorie.to_s + ' (kcal)'
                %td= food.carbohydrate.to_s + ' (g)'
                %td= food.protein.to_s + ' (g)'
                %td= food.fat.to_s + ' (g)'
                %td= food.salt_equivalent.to_s + ' (g)'
                %td= food.dietary_fiber.to_s + ' (g)'
              %td
                = link_to '編集', edit_management_path(management), class: 't-btn'
                = link_to '削除', management, method: :delete, data: { confirm: '削除しますか?' }, class: 't-btn'
 
